# FILE: configs/experiment/swap_unbiased_speaker.yaml
# @package _global_
# Override the preprocessing section with your token swapping strategy
defaults:
  - /config-base # Inherit all the base configurations
  - _self_
# WandB tracking
wandb:
  tags: ["using experiment", "swap_unbiased_speaker", "kobart"]
  notes: "Unbiased speaker swapping experiment - no specific names"
# =============================================================================
# EXPERIMENT METADATA
# =============================================================================
experiment_name: "swap_unbiased_speaker"

preprocessing:
  token_swapping:
    enable: true
    token_map:
      "#Person1#": "화자1"  # Speaker 1
      "#Person2#": "화자2"  # Speaker 2
      "#Person3#": "화자3"
      "#Person4#": "화자4"
      "#Person5#": "화자5"
      "#Person6#": "화자6"
      "#Person7#": "화자7"
  special_tokens:
    additional_special_tokens: ["화자1", "화자2", "화자3", "화자4", "화자5", "화자6", "화자7"]

# ✅ NEW: Add a postprocessing block to enable the swap
postprocessing:
  token_swapping:
    enable: true
    token_map:
      "#Person1#": "화자1"
      "#Person2#": "화자2"
      "#Person3#": "화자3"
      "#Person4#": "화자4"
      "#Person5#": "화자5"
      "#Person6#": "화자6"
      "#Person7#": "화자7"
  remove_tokens:
    - "<usr>"
    - "<s>"
    - "</s>"
    - "<pad>"
    - "<unk>"
    - "화자1"
    - "화자2"
    - "화자3"
    - "화자4"
    - "화자5"
    - "화자6"
    - "화자7"
# postprocessing:
#   token_swapping:
#     enable: true
#     token_map:
#       "#Person1#": "화자1"
#       "#Person2#": "화자2"
#       "#Person3#": "화자3"
#       "#Person4#": "화자4"
#       "#Person5#": "화자5"
#       "#Person6#": "화자6"
#       "#Person7#": "화자7"
#   special_tokens:
#     additional_special_tokens: ["화자1", "화자2", "화자3", "화자4", "화자5", "화자6", "화자7"]
