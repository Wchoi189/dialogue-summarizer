# FILE: configs/experiment/swap_unbiased_speaker.yaml
# @package _global_
# This experiment trains with unbiased speaker tokens

# =============================================================================
# EXPERIMENT METADATA
# =============================================================================
experiment_name: "swap_unbiased_speaker"

# =============================================================================
# PREPROCESSING AND POSTPROCESSING OVERRIDES
# These blocks completely override the ones from the base config.
# =============================================================================
preprocessing:
  strategy: "std"
  max_input_length: 512
  max_target_length: 120
  truncation: true
  padding: false
  normalize_whitespace: true
  remove_extra_newlines: true
  token_swapping:
    enable: true
    token_map:
      "#Person1#": "í™”ì1"
      "#Person2#": "í™”ì2"
      "#Person3#": "í™”ì3"
      "#Person4#": "í™”ì4"
      "#Person5#": "í™”ì5"
      "#Person6#": "í™”ì6"
      "#Person7#": "í™”ì7"
  special_tokens:
    additional_special_tokens: ["í™”ì1", "í™”ì2", "í™”ì3", "í™”ì4", "í™”ì5", "í™”ì6", "í™”ì7"]

postprocessing:
  token_swapping:
    enable: true
    token_map:
      "#Person1#": "í™”ì1"
      "#Person2#": "í™”ì2"
      "#Person3#": "í™”ì3"
      "#Person4#": "í™”ì4"
      "#Person5#": "í™”ì5"
      "#Person6#": "í™”ì6"
      "#Person7#": "í™”ì7"
  remove_tokens:
    - "<usr>"
    - "<s>"
    - "</s>"
    - "<pad>"
    - "<unk>"
  # ğŸ“ FIX: Remove the new speaker tokens from this list to allow them to be swapped back.
  # - "í™”ì1"
  # ...